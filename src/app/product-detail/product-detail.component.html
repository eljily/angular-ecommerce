<div class="container bootdey" [dir]="'dir' | translate">
  <div class="row">
    <!-- Section image principale et autres images -->
    <div class="col-lg-6 col-md-12">
      <div class="card box ">
      <section class="panel">

          <div class="pro-img-details position-relative">
            <!-- Utilisation de la première image du backend comme image principale -->
            <img *ngIf="productDetails?.images && productDetails.images.length > 0"
              [src]="productDetails.images[currentImageIndex].imageUrl"
              [alt]="productDetails.images[currentImageIndex].alt" class="product-image img-fluid" style="margin-left: 18px;"
              loading="lazy">
              <span class="tagged_as text-white px-2 py-1 rounded"
              style="background-color: #fff; cursor: pointer; position: absolute; top: 4%; left: 10%; transform: translate(-50%, -50%);"
              [ngClass]="{'inactive': !isTokenAvailable}" (click)="isTokenAvailable && toggleFavorite(productDetails.id)">
              <i class="fas fa-heart" [ngStyle]="{'color': isFavorite ? 'red' : '#fd7e14'}"></i>
            </span>
            <span class="tagged_as text-white px-2 py-1 rounded icon1"
              style="background-color: #fff; cursor: pointer; position: absolute; top: 12%; left: 10%; transform: translate(-50%, -50%);">
              <i class="fa-solid fa-share-nodes" style="color: #fd7e14;"></i>
            </span>
          </div>

        
              </section>
              <div class="row">
                <div class="col-md-12">
                  <div class="pro-img-list" style="margin-left: 2px;">
                    <!-- Affichage des autres images du backend -->
                    <ng-container *ngIf="productDetails?.images && productDetails.images.length > 1">
                      <a *ngFor="let image of productDetails.images; let i = index" (click)="changeMainImage(i)">
                <div class="position-relative d-inline-block">
                  <img [src]="image.imageUrl" [alt]="image.alt" class="product-image img-fluid" style="cursor: pointer;" loading="lazy">
                </div>
                </a>
                </ng-container>
                </div>
                </div>
                </div>
                </div>
              </div>
                <!-- Section détails du produit -->
                <div class="col-lg-6 col-md-12">
                  <div class="card product-box">
                    <div class="d-flex justify-content-between align-items-center">
                      <strong class="name" style="max-width: 50%;">{{ productDetails?.name }}</strong>
                      <span class="pro-price">{{ productDetails?.price }} MRU</span>
                    </div>
                    <div class="card-body">
                      <div class="product_meta">
                        <div>
              <p> <i class="fa-solid fa-location-dot fa-beat" style="color: #fd7e14;"> </i> {{ productDetails?.region }}
                , {{
                productDetails?.subRegion }}</p>
              </div>
              <div class="product_meta">
                <span class="posted_in d-flex justify-content-between align-items-center">
                  <strong>
                    <i class="fa-solid fa-calendar-days" style="color: #fd7e14;"></i>
                    {{ productDetails?.createDate ? calculateDateAgo(productDetails?.createDate) : '' }}
                  </strong>
            
                
                
                </span>
                <span class="tagged_as">
                  <strong><i class="fa-solid fa-eye" style="color: #fd7e14;"></i> {{ productDetails?.hit }}</strong>
                </span>
                </div>
                <p>
                  <button class="btn btn-round custom-border" type="button"><i class="fa fa-phone"></i> +222 {{
                    productDetails?.vendorDetails?.phoneNumber }}</button>
                </p>
                <p>
              <button class="btn btn-round custom-border2" type="button"><i class="fa-brands fa-square-whatsapp"></i>
                +222 {{
                productDetails?.vendorDetails?.whatsappNumber }}</button>
              </p>
              </div>
              </div>
              </div>
              </div>

    <div class="col-lg-6 col-md-12">
      <div class="card product-box">
        <div>
          <strong style="color: #fd7e14;">{{ 'product-detail.description_section' | translate }}</strong>
          <p style="font-size: 13px;">{{ productDetails?.description }}</p>
        </div>
      </div>
      <div class="card product-box">
        <div>
          <strong style="color: #fd7e14;">{{ 'product-detail.security_tips_section' | translate }}</strong>
          <p style="font-size: 11px;">{{ 'product-detail.security_tips' | translate }}</p>
        </div>
      </div>
    </div>

    <div class="col-md-6">
      <div class="card m-b-30">
        <div class="card-header bg-white">
          <h5 class="card-title text-black mb-0">{{ 'product-detail.seller_info_section' | translate }}</h5>
        </div>
        <div class="card-body">
          <div class="xp-social-profile">
            <div class="xp-social-profile-top">
              <div class="row">
                <div class="col-3">
                  <div class="xp-social-profile-star py-3">
                    <i class="mdi mdi-star font-24"></i>
                  </div>
                </div>
                <div class="col-6">
                  <div class="xp-social-profile-avatar text-center">
                    <img src="https://bootdey.com/img/Content/avatar/avatar7.png" alt="user-profile"
                      class="rounded-circle img-fluid profile-image" loading="lazy">
                  </div>
                </div>
                <div class="col-3">
                  <div class="xp-social-profile-menu text-right py-3">
                    <i class="mdi mdi-dots-horizontal font-24"></i>
                  </div>
                </div>
              </div>
            </div>
            <div class="xp-social-profile-middle text-center">
              <div class="row">
                <div class="col-12">
                  <div class="xp-social-profile-title">
                    <h5 class="my-1 text-black">{{ productDetails?.vendorDetails?.name }}</h5>
                  </div>
                </div>
              </div>
            </div>
            <div class="xp-social-profile-bottom text-center">
              <div class="row">
                <div class="col-4">
                  <div class="xp-social-profile-followers pt-3">
                    <i class="fa-solid fa-phone" style="color: #38a543;"></i>
                    <p class="mb-0 text-muted">{{ 'product-detail.seller_phone' | translate }}</p>
                  </div>
                </div>
                <div class="col-4">
                  <div class="xp-social-profile-followers pt-3">
                    <h5 class="text-black my-1">{{ 'product-detail.seller_ads' | translate }}</h5>
                    <p class="mb-0 text-muted">{{ 'product-detail.seller_ads' | translate }}</p>
                  </div>
                </div>
                <div class="col-4">
                  <div class="xp-social-profile-followers pt-3">
                    <i class="fa-brands fa-whatsapp" style="color: #38a543;"></i>
                    <p class="mb-0 text-muted">{{ 'product-detail.seller_whatsapp' | translate }}</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>